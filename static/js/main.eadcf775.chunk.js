(this.webpackJsonpbeatdrop=this.webpackJsonpbeatdrop||[]).push([[0],{18:function(e,t,s){},19:function(e,t,s){},21:function(e,t,s){},23:function(e,t,s){},24:function(e,t,s){"use strict";s.r(t);var a=s(0),r=s.n(a),i=s(13),o=s.n(i),c=(s(18),s(4)),n=(s(19),s(6)),h=s(7),l=s(8),d=s(11),u=s(9),m=s(5),p=s.n(m),b=(s.p,s.p,function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(h.a)(this,s),(e=t.call(this,"PhaserScene")).stars=void 0,e.bomb=void 0,e.bombs=void 0,e.gameOver=!1,e.platforms=void 0,e.player=void 0,e.score=0;return e.gameInfo={playTime:0},e}return Object(l.a)(s,[{key:"preload",value:function(){this.load.image("backdrop","assets/backdrop.png"),this.load.image("background","assets/background.png"),this.load.image("sky","assets/sky.png"),this.load.image("ground","assets/platform.png"),this.load.image("star","assets/star.png"),this.load.image("bomb","assets/bomb.png"),this.load.spritesheet("dude","assets/dude.png",{frameWidth:32,frameHeight:48}),console.log(this)}},{key:"create",value:function(){this.add.image(400,1500,"background"),this.add.image(200,1500,"backdrop"),this.cameras.main.setViewport(0,0,400,800),this.platforms=this.physics.add.staticGroup(),this.platforms.create(40,100,"ground"),this.platforms.create(-30,250,"ground"),this.platforms.create(50,400,"ground"),this.platforms.create(20,550,"ground"),this.platforms.create(60,700,"ground"),this.platforms.create(60,850,"ground"),this.platforms.create(40,1e3,"ground"),this.platforms.create(55,1200,"ground"),this.platforms.create(360,100,"ground"),this.platforms.create(270,250,"ground"),this.platforms.create(350,400,"ground"),this.platforms.create(320,550,"ground"),this.platforms.create(360,700,"ground"),this.platforms.create(360,850,"ground"),this.platforms.create(340,1e3,"ground"),this.platforms.create(355,1200,"ground"),this.player=this.physics.add.sprite(200,0,"dude"),this.player.body.setGravityY(0),this.player.setBounce(.2),this.player.setCollideWorldBounds(!0),this.anims.create({key:"left",frames:this.anims.generateFrameNumbers("dude",{start:0,end:3}),frameRate:10,repeat:-1}),this.anims.create({key:"turn",frames:[{key:"dude",frame:4}],frameRate:20}),this.anims.create({key:"right",frames:this.anims.generateFrameNumbers("dude",{start:5,end:8}),frameRate:10,repeat:-1}),this.stars=this.physics.add.group({key:"star",repeat:11,setXY:{x:12,y:0,stepX:70}}),this.stars.children.iterate((function(e){e.setBounceY(p.a.Math.FloatBetween(.4,.8))})),this.physics.add.collider(this.stars,this.platforms),this.physics.add.overlap(this.player,this.stars,this.collectStar,null,this),this.physics.add.collider(this.player,this.platforms),this.cursors=this.input.keyboard.createCursorKeys(),this.scoreText=this.add.text(50,16,"score: 0",{fontSize:"32px",fill:"#000"}),this.bombs=this.physics.add.group(),this.physics.add.collider(this.bombs,this.platforms),this.physics.add.collider(this.player,this.bombs,this.hitBomb,null,this)}},{key:"update",value:function(){this.cursors.left.isDown?(this.player.setVelocityX(-160),this.player.anims.play("left",!0)):this.cursors.right.isDown?(this.player.setVelocityX(160),this.player.anims.play("right",!0)):(this.player.setVelocityX(0),this.player.anims.play("turn")),this.cursors.up.isDown&&this.player.setVelocityY(-50)}},{key:"collectStar",value:function(e,t){if(t.disableBody(!0,!0),this.score+=10,this.scoreText.setText("Score: "+this.score),7===this.stars.countActive(!0)){this.stars.children.iterate((function(e){e.enableBody(!0,e.x,0,!0,!0)}));var s=this.player.x<400?p.a.Math.Between(400,800):p.a.Math.Between(0,400);this.bomb=this.bombs.create(s,16,"bomb"),this.bomb.setBounce(1),this.bomb.setCollideWorldBounds(!0),this.bomb.setVelocity(p.a.Math.Between(-200,200),20)}}},{key:"hitBomb",value:function(){this.physics.pause(),this.player.setTint(16711680),this.player.anims.play("turn"),this.gameOver=!0,this.gameOver&&(this.gameOver=!1)}}]),s}(p.a.Scene)),g=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e,a,r){var i;Object(h.a)(this,s);var o={type:p.a.AUTO,width:a,height:r,physics:{default:"arcade",arcade:{gravity:{y:300},debug:!1}}};return(i=t.call(this,o)).globals={},i.colorChoice=e,i.scene.add("PhaserScene",b),i.scene.start("PhaserScene"),i}return Object(l.a)(s,[{key:"getPlayTime",value:function(){return console.log(this),console.log(this.loop.now-this.loop.startTime),this.loop.now-this.loop.startTime}}]),s}(p.a.Game),y=(s(21),s(2));var f=function(e){e.colorProp,e.setColorChoice;var t=e.colorChoice,s=e.setGameTime;return Object(a.useEffect)((function(){var e=window.innerHeight,a=window.innerWidth;return console.log(e),document.game=new g(t,e,a),function(){s(Math.round(document.game.getPlayTime()/1e3)),document.game.destroy(!0)}}),[]),Object(y.jsx)("div",{className:"ReactGameContainer",children:Object(y.jsx)(n.b,{className:"quit-button",to:"/",children:"Quit"})})},j=s(1);s(23);var v=function(e){e.colorChoice;var t=e.setColorChoice,s=e.gameTime,a=function(e){t(e)};return Object(y.jsxs)("div",{className:"Menu",children:[Object(y.jsx)("h1",{children:"What colour should the particles be?"}),Object(y.jsx)("h2",{children:"The last game lasted for ".concat(s," seconds")}),Object(y.jsxs)("div",{className:"button-container",children:[Object(y.jsx)("button",{className:"red button",onClick:function(){a("red")},children:"Red Please"}),Object(y.jsx)("button",{className:"yellow button",onClick:function(){a("yellow")},children:"Yellow Thanks"})]})," ",Object(y.jsx)(n.b,{id:"start-button",className:"button start-button",to:"/newgame",children:" Start Phaser"})]})};var O=function(){var e=Object(a.useState)("red"),t=Object(c.a)(e,2),s=t[0],r=t[1],i=Object(a.useState)(0),o=Object(c.a)(i,2),h=o[0],l=o[1];return console.log("Hello"),Object(y.jsx)(n.a,{children:Object(y.jsx)("div",{className:"App",children:Object(y.jsxs)(j.c,{children:[Object(y.jsx)(j.a,{path:"/",element:Object(y.jsx)(v,{colorChoice:s,setColorChoice:r,gameTime:h})}),Object(y.jsx)(j.a,{path:"/newgame",element:Object(y.jsx)(f,{colorChoice:s,setColorChoice:r,setGameTime:l,colorProp:s})})]})})})};o.a.render(Object(y.jsx)(r.a.StrictMode,{children:Object(y.jsx)(O,{})}),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.eadcf775.chunk.js.map
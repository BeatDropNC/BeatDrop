{"version":3,"sources":["phaser/PhaserScene.js","assets/red.png","assets/yellow.png","phaser/CreateGame.js","components/ReactGameContainer.js","components/Menu.js","App.js","index.js"],"names":["PhaserScene","stars","undefined","bomb","bombs","gameOver","platforms","player","score","gameInfo","playTime","this","load","image","spritesheet","frameWidth","frameHeight","console","log","add","cameras","main","setViewport","physics","staticGroup","create","sprite","body","setGravityY","setBounce","setCollideWorldBounds","anims","key","frames","generateFrameNumbers","start","end","frameRate","repeat","frame","group","setXY","x","y","stepX","children","iterate","child","setBounceY","Phaser","Math","FloatBetween","collider","overlap","collectStar","cursors","input","keyboard","createCursorKeys","scoreText","text","fontSize","fill","hitBomb","left","isDown","setVelocityX","play","right","up","setVelocityY","star","disableBody","setText","countActive","enableBody","Between","setVelocity","pause","setTint","Scene","PhaserGame","colorChoice","width","height","config","type","AUTO","default","arcade","gravity","debug","globals","scene","loop","now","startTime","Game","ReactGameContainer","colorProp","setColorChoice","setGameTime","useEffect","window","innerHeight","innerWidth","document","game","CreateGame","round","getPlayTime","destroy","className","to","Menu","gameTime","chooseColor","color","onClick","id","App","useState","path","element","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.05a5839a.chunk.js","sourcesContent":["import Phaser from \"phaser\";\r\nimport logo from \"../assets/phaser3-logo.png\";\r\nimport red from \"../assets/red.png\";\r\nimport yellow from \"../assets/yellow.png\";\r\nimport sky from \"../assets/space3.png\";\r\n\r\nexport default class PhaserScene extends Phaser.Scene {\r\n  constructor() {\r\n    super(\"PhaserScene\");\r\n    this.stars = undefined;\r\n    this.bomb = undefined;\r\n    this.bombs = undefined;\r\n    this.gameOver = false;\r\n    this.platforms = undefined;\r\n    this.player = undefined;\r\n    this.score = 0;\r\n    let scoreText = undefined;\r\n    this.gameInfo = {\r\n      playTime: 0,\r\n    };\r\n  }\r\n  \r\n\r\n  preload() {\r\n    this.load.image('backdrop', 'assets/backdrop.png')\r\n    this.load.image('background', 'assets/background.png')\r\n    this.load.image('sky', 'assets/sky.png');\r\n    this.load.image('ground', 'assets/platform.png');\r\n    this.load.image('star', 'assets/star.png');\r\n    this.load.image('bomb', 'assets/bomb.png');\r\n    this.load.spritesheet('dude', \r\n        'assets/dude.png',\r\n        { frameWidth: 32, frameHeight: 48 }\r\n    );\r\n    console.log(this)\r\n  }\r\n\r\n  create() {\r\n    this.add.image(400, 1500, 'background');\r\n        this.add.image(200, 1500, 'backdrop');\r\n        this.cameras.main.setViewport(0, 0, 400, 800);\r\n    \r\n        this.platforms = this.physics.add.staticGroup();\r\n\r\n        // this.platforms.create(400, 568, 'ground').setScale(2).refreshBody();\r\n\r\n        this.platforms.create(40, 100, 'ground');\r\n        this.platforms.create(-30, 250, 'ground');\r\n        this.platforms.create(50, 400, 'ground');\r\n        this.platforms.create(20, 550, 'ground');\r\n        this.platforms.create(60, 700, 'ground');\r\n        this.platforms.create(60, 850, 'ground');\r\n        this.platforms.create(40, 1000, 'ground');\r\n        this.platforms.create(55, 1200, 'ground');\r\n\r\n        this.platforms.create(360, 100, 'ground');\r\n        this.platforms.create(270, 250, 'ground');\r\n        this.platforms.create(350, 400, 'ground');\r\n        this.platforms.create(320, 550, 'ground');\r\n        this.platforms.create(360, 700, 'ground');\r\n        this.platforms.create(360, 850, 'ground');\r\n        this.platforms.create(340, 1000, 'ground');\r\n        this.platforms.create(355, 1200, 'ground');\r\n        // this.platforms.create(20, 400, 'ground');\r\n        // this.platforms.create(213, 400, 'ground');\r\n        // this.platforms.create(70, 400, 'ground');\r\n        // this.platforms.create(150, 400, 'ground');\r\n\r\n        // this.platforms.create(50, 250, 'ground');\r\n        // this.platforms.create(750, 220, 'ground');\r\n\r\n        this.player = this.physics.add.sprite(200, 0, 'dude');\r\n\r\n        this.player.body.setGravityY(0)\r\n\r\n        this.player.setBounce(0.2);\r\n        this.player.setCollideWorldBounds(true);\r\n\r\n        this.anims.create({\r\n            key: 'left',\r\n            frames: this.anims.generateFrameNumbers('dude', { start: 0, end: 3 }),\r\n            frameRate: 10,\r\n            repeat: -1\r\n        });\r\n\r\n        this.anims.create({\r\n            key: 'turn',\r\n            frames: [ { key: 'dude', frame: 4 } ],\r\n            frameRate: 20\r\n        });\r\n\r\n        this.anims.create({\r\n            key: 'right',\r\n            frames: this.anims.generateFrameNumbers('dude', { start: 5, end: 8 }),\r\n            frameRate: 10,\r\n            repeat: -1\r\n        });\r\n\r\n            this.stars = this.physics.add.group({\r\n            key: 'star',\r\n            repeat: 11,\r\n            setXY: { x: 12, y: 0, stepX: 70 }\r\n        });\r\n\r\n        this.stars.children.iterate(function (child) {\r\n\r\n        child.setBounceY(Phaser.Math.FloatBetween(0.4, 0.8));\r\n\r\n        });\r\n        \r\n        this.physics.add.collider(this.stars, this.platforms);\r\n        this.physics.add.overlap(this.player, this.stars, this.collectStar, null, this);\r\n\r\n        this.physics.add.collider(this.player, this.platforms);\r\n        this.cursors = this.input.keyboard.createCursorKeys();\r\n\r\n        this.scoreText = this.add.text(50, 16, 'score: 0', { fontSize: '32px', fill: '#000' });\r\n\r\n        this.bombs = this.physics.add.group();\r\n\r\n        this.physics.add.collider(this.bombs, this.platforms);\r\n\r\n        this.physics.add.collider(this.player, this.bombs, this.hitBomb, null, this);\r\n\r\n        // this.cameras.main.startFollow(this.player);\r\n  }\r\n\r\n  update(){\r\n    if (this.cursors.left.isDown)\r\n        {\r\n          this.player.setVelocityX(-160);\r\n\r\n          this.player.anims.play('left', true);\r\n        }\r\n        else if (this.cursors.right.isDown)\r\n        {\r\n          this.player.setVelocityX(160);\r\n\r\n          this.player.anims.play('right', true);\r\n        }\r\n        else\r\n        {\r\n          this.player.setVelocityX(0);\r\n\r\n          this.player.anims.play('turn');\r\n        }\r\n\r\n        if (this.cursors.up.isDown)\r\n        {\r\n          this.player.setVelocityY(-50);\r\n        }\r\n  }\r\n\r\n  collectStar(player, star) {\r\n    star.disableBody(true, true);\r\n    this.score += 10;\r\n    this.scoreText.setText('Score: ' + this.score);\r\n\r\n        if (this.stars.countActive(true) === 7)\r\n            {\r\n                this.stars.children.iterate(function (child) {\r\n\r\n                    child.enableBody(true, child.x, 0, true, true);\r\n\r\n                });\r\n\r\n                var x = (this.player.x < 400) ? Phaser.Math.Between(400, 800) : Phaser.Math.Between(0, 400);\r\n\r\n                this.bomb = this.bombs.create(x, 16, 'bomb');\r\n                this.bomb.setBounce(1);\r\n                this.bomb.setCollideWorldBounds(true);\r\n                this.bomb.setVelocity(Phaser.Math.Between(-200, 200), 20);\r\n\r\n            }\r\n  }\r\n\r\n  hitBomb() {\r\n    this.physics.pause();\r\n\r\n    this.player.setTint(0xff0000);\r\n\r\n    this.player.anims.play('turn');\r\n\r\n        this.gameOver = true;\r\n\r\n        if(this.gameOver) {\r\n            this.gameOver = false;\r\n        }\r\n        \r\n  }\r\n  \r\n}","export default __webpack_public_path__ + \"static/media/red.6b7d103f.png\";","export default __webpack_public_path__ + \"static/media/yellow.c9f68918.png\";","import Phaser from \"phaser\";\r\nimport PhaserScene from \"./PhaserScene\";\r\n\r\nexport default class PhaserGame extends Phaser.Game {\r\n    constructor(colorChoice, width, height) {\r\n      const config = {\r\n        type: Phaser.AUTO,\r\n        width: width,\r\n        height: height,\r\n        physics: {\r\n            default: 'arcade',\r\n            arcade: {\r\n                gravity: { y: 300 },\r\n                debug: false\r\n            }\r\n        },\r\n      };\r\n      super(config);\r\n      \r\n\r\n      this.globals = {  };\r\n\r\n      this.colorChoice = colorChoice;\r\n      this.scene.add(\"PhaserScene\", PhaserScene);\r\n      this.scene.start(\"PhaserScene\");\r\n    }\r\n    getPlayTime() {\r\n        console.log(this)\r\n        console.log(this.loop.now - this.loop.startTime)\r\n        return this.loop.now - this.loop.startTime\r\n    }\r\n  }\r\n  ","import { react, useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport CreateGame from \"../phaser/CreateGame\";\r\nimport \"../styles/ReactGameContainer.css\";\r\nfunction ReactGameContainer({\r\n  colorProp,\r\n  setColorChoice,\r\n  colorChoice,\r\n  setGameTime,\r\n}) {\r\n  useEffect(() => {\r\n    const height = window.innerHeight;\r\n    const width = window.innerWidth;\r\n    console.log(height);\r\n    document.game = new CreateGame(colorChoice, height, width);\r\n\r\n    return () => {\r\n      setGameTime(Math.round(document.game.getPlayTime() / 1000));\r\n      document.game.destroy(true);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"ReactGameContainer\">\r\n      <Link className=\"quit-button\" to={\"/\"}>\r\n        Quit\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ReactGameContainer;\r\n","import '../styles/Menu.css'\r\nimport {react, useState} from 'react'\r\nimport ReactGameContainer from './ReactGameContainer'\r\nimport { Link } from 'react-router-dom'\r\n\r\n\r\nfunction Menu({colorChoice, setColorChoice, gameTime}) {\r\n\r\n    const chooseColor = (color) => {\r\n        setColorChoice(color)\r\n    }\r\n\r\n    \r\n  return (\r\n    <div className=\"Menu\">\r\n        <h1>What colour should the particles be?</h1>\r\n        <h2>{`The last game lasted for ${gameTime} seconds`}</h2>\r\n        <div className=\"button-container\">\r\n        <button className=\"red button\" onClick={() => {chooseColor('red')}} >Red Please</button>\r\n        <button className=\"yellow button\" onClick={() => {chooseColor('yellow')}} >Yellow Thanks</button>\r\n        </div> <Link id={'start-button'}className={\"button start-button\"}to={\"/newgame\"}> Start Phaser</Link>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\nexport default Menu;\r\n","import './App.css';\nimport ReactGameContainer from './components/ReactGameContainer';\nimport { BrowserRouter, Routes, Route, Navigate } from 'react-router-dom';\nimport { useState } from 'react';\nimport Menu from './components/Menu';\nfunction App() {\n  const [colorChoice, setColorChoice] = useState('red')\n  const [gameTime, setGameTime] = useState(0)\n\n\n  return (\n    <BrowserRouter>\n    <div className=\"App\">\n    <Routes>\n    <Route\n         path='/'\n         element={<Menu colorChoice={colorChoice} setColorChoice={setColorChoice} gameTime={gameTime}/>}\n         />\n       <Route\n         path='/newgame'\n         element={<ReactGameContainer colorChoice={colorChoice} setColorChoice={setColorChoice} setGameTime={setGameTime} colorProp={colorChoice}/>}\n         />\n          </Routes>\n\n    </div>\n    </BrowserRouter>\n  );\n}\n\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}